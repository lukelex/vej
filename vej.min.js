// ==========================================================================
// Project:   Vej.js - Declarative http requests
// Copyright: Copyright 2014 Lukas Alexandre
// License:   Licensed under MIT license
//            See https://github.com/lukelex/vej/blob/master/LICENSE
// ==========================================================================

// Version: 0.1.0 | From: 26-04-2014

window.vej={},window.vej.resource=function(name,engine){return window.vej.collection(name,engine)},window.vej.collection=function(name,engine){var basePath="/"+name,rsc=function(id){return window.vej.member(id,basePath,engine)},route=window.vej.route(basePath,engine);return rsc.all=function(data){return route.act("get",data)},rsc.create=function(data){return route.act("post",data)},rsc},window.vej.member=function(id,path,engine){var basePath=path+"/"+id,route=window.vej.route(basePath,engine);return{detail:function(data){return route.act("get",data)},"delete":function(data){return route.act("delete",data)},update:function(data){return route.act("patch",data)}}},window.vej.route=function(path,engine){function run(spec,data){return spec.path=path,window.vej.request(spec,data,engine)}return{act:function(method,data){return run({method:method},{data:data})}}},window.vej.request=function(spec,data,engine){return engine[spec.method](spec.path,data)};